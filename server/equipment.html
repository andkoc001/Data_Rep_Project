<!-- Data Representation Project, GMIT 2020 -->
<!-- Author: Andrzej Kocielski, G00376291@gmit.ie -->
<!-- Lecturer: dr Andrew Beatty -->

<!-- Inspired by http://elizabethdaly.eu.pythonanywhere.com/shopper5.html -->

<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<head>
    <title>Data Rep Project - Autonomous Maintenance</title>
    <meta charset="UTF-8">
    <meta name="description" content="Data Representation Project, GMIT 2020">
    <meta name="author" content="Andrzej Kocielski, G00376291@gmit.ie">

    <!-- Bootstrap style file -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- Reference to external style file (overrides the bootstrap style, because it is placed below in this file -->
    <link rel="stylesheet" href="style.css" type="text/css" />
    <!-- AJAX reference -->
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>

</head>

<body>

    <header>
        <div>
            <h1 class="logo_title">Equipment Autonomous Maintenance</h1>
            <div class="picture">
                <img src="https://diginomica.com/sites/default/files/styles/article_images_desktop/public/images/2019-09/shutterstock-%20wilaporn1973-1503679208.jpg?itok=NZVM6aIy"
                    alt="Source: https://diginomica.com/sites/default/files/styles/article_images_desktop/public/images/2019-09/shutterstock-%20wilaporn1973-1503679208.jpg?itok=NZVM6aIy" /></br>
                <div class="caption"> Image source: <a
                        href="https://diginomica.com/fail-early-fail-often-manufacturing-mantra-ai-age"
                        target="_blank">diginomica.com</a></div>
            </div>
        </div>

        <!-- Top navigation bar -->
        <nav id="topnav">
            <!-- The top bar menu consists of unordered list (ul) elements (list items, li), styled with the CSS -->
            <ul class="menu">
                <li><a href="../templates/index.html">Start</a></li>
                <li><a href="#">Equipment</a></li> <!-- This link is active, but does not require reloading the page -->
                <li><a href="suppliers.html">Suppliers</a></li>
            </ul>
        </nav>
    </header>

    <main class="mainsection">
        <section class="core">
            <div>
                <table class="table" id="equipment_list">
                    <h1>List of equipment</h1>
                    <button type="button" onclick="showCreate()">Create a new entry</button>
                    <tr>
                        <th>id</th>
                        <th>Category</th>
                        <th>Name</th>
                        <th>Supplier</th>
                        <th>Cost in EUR</th>
                        <th>Cost in BitCoin</th>
                        <th>Update</th>
                        <th>Delete</th>
                    </tr>
                    <tr>
                        <td>123</td>
                        <td>aaa</td>
                        <td>bbb</td>
                        <td>ccc</td>
                        <td>234</td>
                        <td>453</td>
                        <td><button type="button" class="table_entry_update" onclick="showCreate()">Update</button></td>
                        <td><button type="button" class="table_entry_delete" onclick="showCreate()">Delete</button></td>
                    </tr>
                    <tr>
                        <td>123</td>
                        <td>aaa</td>
                        <td>bbb</td>
                        <td>ccc</td>
                        <td>234</td>
                        <td>453</td>
                        <td><button type="button" class="table_entry_update" onclick="showCreate()">Update</button></td>
                        <td><button type="button" class="table_entry_delete" onclick="showCreate()">Delete</button></td>
                    </tr>
                </table>
            </div>
        </section>

        </br>
        </br>
        </br>

        <section class="core">
            <h2>Get bitcoin value from coindesk.com</h2>
            <span>
                <button onclick="readJSON()">Go </button>
                <div id="output_BC"></div>
            </span>
        </section>

    </main>
    <!-- This button appears when the page is scrolled down bt 50px (see the Java Script file) and, when clicked, brings the web page back to the top -->
    <button onclick="topFunction()" id="toTop" title="Top">Go to Top</button>


    <footer>

        <!-- This section holds links to the external websites -->
        <div class="links">
            <div class="gmit">
                <a href="https://www.gmit.ie/" class="link" target="_blank"> GMIT </a>
            </div>
            <div class="gh">
                <a href="https://github.com/andkoc001" class="link" target="_blank"> GitHub </a>
            </div>
            <div class="pa">
                <a href="http://andkoc001.pythonanywhere.com/" class="link" target="_blank"> PythonAnywhere </a>
            </div>
            <div style="clear:both"></div>
        </div>

        <div class="info">
            Andrzej Kocielski (G00376291@gmit.ie), 2020
        </div>

    </footer>

    <script>

        // ////////////////////
        // Get the current value of bitcoin, fetched from external server
        function readJSON() {
            $.ajax({
                "url": "https://api.coindesk.com/v1/bpi/currentprice.json ",
                "method": "GET",
                "data": "",
                "dataType": "JSON",
                "success": function (result) {
                    //console.log(result);
                    var rate = result.bpi.EUR.rate
                    document.getElementById("output_BC").innerText = rate;
                },
                "error": function (xhr, status, error) {
                    //console.log("error: " + status + " msg:" + error);
                    var rate = result.bpi.EUR.rate
                    document.getElementById("output_BC").innerText = rate;
                }
            });
        }


        // ////////////////////
        // Scroll up to top of page functionality
        // Adopted from: https://www.w3schools.com/howto/howto_js_scroll_to_top.asp

        // Get signal from the button
        var mybutton = document.getElementById("toTop");

        // The button appears when the user scrolls down 50px from the top of the document
        window.onscroll = function () { scrollFunction() };
        function scrollFunction() {
            if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
                mybutton.style.display = "block";
            } else {
                mybutton.style.display = "none";
            }
        }

        // When the user clicks on the button, scroll to the top of the document
        function topFunction() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }
    </script>

</body>

</html>